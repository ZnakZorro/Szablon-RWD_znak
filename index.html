<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="RWD znak">
<title>RWD_znak_3.X</title>
<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
<style id="css_dopisane">

</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
<script>
function los(il){
	return Math.round((Math.random()*(il/2))+(il/2));
}
function jakisTekst(ile){
	var spolgloski = ['ą','b','c','ć','d','ę','f','g','h','j','k','l','ł','m','n','ń','ó','p','r','s','ś','t','w','y','z','ź','ż'];
	var samogloski = ['a','e','i','o','u'];
	var ilesp = spolgloski.length;
	var ilesa = samogloski.length;
	var text='';
	for (var i = 0; i<ile; i++){
		text +=spolgloski[Math.floor(Math.random()*ilesp)]; 
		if (i % los(4) ==0) text +=samogloski[Math.floor(Math.random()*ilesa)]; 
		if (i % los(6) ==0) text +=' '; 
		if (i % los(40) ==0) text +='. '+samogloski[Math.floor(Math.random()*ilesa)].toUpperCase(); 
	}
	return(text);
}

</script>
</head>
<body class="body control-edit">

<a class="sr-only" href="#content">Skip to main content</a>

<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
  <div class="container">
    <div class="row">
        <div class="navbar-header">
        
            <nav class="navbar navbar-default" role="navigation">
              <div class="container-navi control-edit container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                  <a class="navbar-brand" href="#">Strona</a>
                </div>
            
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                  <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                      <ul class="dropdown-menu">
                        <li><a href="#">Action</a></li>
                        <li><a href="#">Another action</a></li>
                        <li><a href="#">Something else here</a></li>
                        <li class="divider"></li>
                        <li><a href="#">Separated link</a></li>
                        <li class="divider"></li>
                        <li><a href="#">Konfiguracja</a></li>
						<li>
							<input type="color" name="favcolor" id="favcolor" value="#336699" onChange="kolory(this.value)"  class="form-control" />
							<span><input  id="hexcolor" value="#336699" class="form-control" /></span>
						</li>
                      </ul>
                    </li>
                  </ul>
                  <form class="navbar-form navbar-left" role="search">
                    <div class="form-group">
                      <input type="text" class="form-control" placeholder="Search">
                    </div>
                    <button type="submit" class="btn btn-default">Submit</button>
                  </form>
                  <ul class="nav navbar-nav navbar-right">
                    <li><a href="#">Link</a></li>
                    <li class="dropdown">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Konfiguracja <b class="caret"></b></a>
                      <ul class="dropdown-menu">
						<li><a href="#konfiguracja">Kolory</a></li>
					  
                      </ul>
                    </li>
                  </ul>
                </div><!-- /.navbar-collapse -->
              </div><!-- /.container-fluid -->
            </nav>
        </div> <!-- navbar_header -->
    </div> <!-- row -->
  </div> <!-- container -->
</header>



<div class="container-content control-edit container">
  <div class="row">
    
    <div class="left control-edit col-sm-3 well" id="left">

      <h3>lewa strona</h3>
	  <p><script>document.write(jakisTekst(300));</script></p>
    </div>
    
    <div class="content control-edit col-sm-6" id="content"> <!-- content -->
	
    	<article>
    		<header>
    			<h1>Header h1</h1>
    			<p>Header text.</p>
				<p><script>document.write(jakisTekst(100));</script></p>
    		</header>
    		<section>
    			<h2>article section h2</h2>
				<p><script>document.write(jakisTekst(200));</script></p>
    			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales urna non odio egestas tempor. Nunc vel vehicula ante. Etiam bibendum iaculis libero, eget molestie nisl pharetra in. In semper consequat est, eu porta velit mollis nec. Curabitur posuere enim eget turpis feugiat tempor. Etiam ullamcorper lorem dapibus velit suscipit ultrices. Proin in est sed erat facilisis pharetra.</p>
  
    		</section>
    	</article>
    </div><!-- content -->
    
    <div class="right control-edit col-sm-3 well" id="right">
      <h3>prawa strona</h3>
	  <p><script>document.write(jakisTekst(300));</script></p>
    </div>
    
		<textarea id="kody" style="width:100%; height:15em; margin:1em 0; padding:0.5em; display:none;"></textarea>   
  </div> <!-- row -->
</div> <!-- contaner -->



<footer class="footer control-edit">

	<div class="container">
	  <div class="row">
		
		<a class="sr-only" name="konfiguracja">konfiguracja</a>
		<div class="col-sm-6">
			<button class="btn btn-primary"    onClick="zapal()">Kolory</button>
			<button class="btn btn-success" onClick="zapisz()" style="display:none;" id="klawisz_zapisz">Zapisz</button>
		</div>
		<div class="col-sm-6">
		</div>
		<div class="col-sm-12">
		<p><script>document.write(jakisTekst(300));</script></p>
		</div>
		

		
		
	  </div> <!-- row -->
	</div> <!-- contaner -->
<footer>


<script>
function zapal(){
	var ifis = $('.color-edit-tx').length;
	//console.log(typeof(ifis), ifis);
	if (ifis=='0') {
		$('.control-edit').prepend('<input type="color" value="" onChange="kolory(this,\'color\')"       class="color-edit-tx" title="Text color" />');		
		$('.control-edit').prepend('<input type="color" value="" onChange="kolory(this,\'background\')"  class="color-edit-bg" title="Background" />');
	}
	else {
		$('.color-edit-bg').toggle();
		$('.color-edit-tx').toggle();
		$('#klawisz_zapisz').hide();
		$('#kody').hide();
	}
}

function kolory(co,kto){
	var v = $(co).val();
	var k= $(co).parent();
	k.css(kto,v);
	$('#klawisz_zapisz').show();
}

function zapisz(){
	$('#kody').empty();
	var all_css='';
	$('.control-edit').each(function(ix,el){
		var bg  = $(this).css('background');
		var tx  = $(this).css('color');
		var tag = $(this).prop("tagName");
		var klasy = $(this).prop("className");
		var arr = klasy.split(" ");
		var klasa = arr[0];
		var selektor=tag+'.'+klasa;
			var m_bg = bg.match(/rgb.?\((.*?)\)/);
			if (m_bg) bg = m_bg[0];
			var m_tx = tx.match(/rgb.?\((.*?)\)/);
			if (m_tx) tx = m_tx[0];
		var css = selektor+'{background:'+bg+'; color:'+tx+'}'+"\n";
		all_css +=css;
		$('#kody').append(css);
		$('#kody').show();
		localStorage.setItem('___RWD3___',JSON.stringify({'extra_css':all_css}));
	});
}


var ls_css = localStorage.getItem('___RWD3___');
console.log(ls_css);
if (ls_css){
	var lokalSt = JSON.parse(ls_css);
	console.log(lokalSt.extra_css);
	$('#css_dopisane').text(lokalSt.extra_css);
}
</script>


<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
</body>
</html>
